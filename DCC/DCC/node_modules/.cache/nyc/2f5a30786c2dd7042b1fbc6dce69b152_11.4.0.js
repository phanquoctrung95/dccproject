var cov_2r3thabp36=function(){var path='D:\\DCC\\DCC\\server\\routes\\trainee\\feedback.js',hash='62881ad7e868159e129460464c2356cfbac11239',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'D:\\DCC\\DCC\\server\\routes\\trainee\\feedback.js',statementMap:{'0':{start:{line:1,column:13},end:{line:1,column:40}},'1':{start:{line:2,column:13},end:{line:2,column:36}},'2':{start:{line:3,column:10},end:{line:3,column:47}},'3':{start:{line:5,column:0},end:{line:36,column:3}},'4':{start:{line:6,column:4},end:{line:35,column:7}},'5':{start:{line:7,column:8},end:{line:34,column:9}},'6':{start:{line:8,column:27},end:{line:18,column:13}},'7':{start:{line:19,column:12},end:{line:19,column:31}},'8':{start:{line:22,column:28},end:{line:32,column:13}},'9':{start:{line:33,column:12},end:{line:33,column:32}},'10':{start:{line:38,column:0},end:{line:57,column:3}},'11':{start:{line:40,column:4},end:{line:56,column:7}},'12':{start:{line:52,column:8},end:{line:55,column:11}},'13':{start:{line:59,column:0},end:{line:59,column:24}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:5,column:38},end:{line:5,column:39}},loc:{start:{line:5,column:56},end:{line:36,column:1}},line:5},'1':{name:'(anonymous_1)',decl:{start:{line:6,column:81},end:{line:6,column:82}},loc:{start:{line:6,column:93},end:{line:35,column:5}},line:6},'2':{name:'(anonymous_2)',decl:{start:{line:38,column:30},end:{line:38,column:31}},loc:{start:{line:38,column:48},end:{line:57,column:1}},line:38},'3':{name:'(anonymous_3)',decl:{start:{line:51,column:12},end:{line:51,column:13}},loc:{start:{line:51,column:23},end:{line:56,column:5}},line:51}},branchMap:{'0':{loc:{start:{line:7,column:8},end:{line:34,column:9}},type:'if',locations:[{start:{line:7,column:8},end:{line:34,column:9}},{start:{line:7,column:8},end:{line:34,column:9}}],line:7},'1':{loc:{start:{line:7,column:11},end:{line:7,column:143}},type:'binary-expr',locations:[{start:{line:7,column:11},end:{line:7,column:39}},{start:{line:7,column:41},end:{line:7,column:65}},{start:{line:7,column:67},end:{line:7,column:93}},{start:{line:7,column:95},end:{line:7,column:119}},{start:{line:7,column:121},end:{line:7,column:143}}],line:7}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0},f:{'0':0,'1':0,'2':0,'3':0},b:{'0':[0,0],'1':[0,0,0,0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var router=(cov_2r3thabp36.s[0]++,require('express').Router());var models=(cov_2r3thabp36.s[1]++,require('../../models'));var log=(cov_2r3thabp36.s[2]++,require('../../config/config')["log"]);cov_2r3thabp36.s[3]++;router.post('/getMyFeedbackByClass',function(req,res){cov_2r3thabp36.f[0]++;cov_2r3thabp36.s[4]++;models.ClassRecord.getTraineeClassbyId(req.body.traineeId,req.body.classId,feedback=>{cov_2r3thabp36.f[1]++;cov_2r3thabp36.s[5]++;if((cov_2r3thabp36.b[1][0]++,!feedback.bestThing_comments)&&(cov_2r3thabp36.b[1][1]++,!feedback.trainer_rating)&&(cov_2r3thabp36.b[1][2]++,!feedback.improve_comments)&&(cov_2r3thabp36.b[1][3]++,!feedback.content_rating)&&(cov_2r3thabp36.b[1][4]++,!feedback.happy_rating)){cov_2r3thabp36.b[0][0]++;var datasend=(cov_2r3thabp36.s[6]++,{success:false,msg:'There is no feedback of traineeId = '+req.body.traineeId+' for class with id = '+req.body.classId,feedback:{bestThing_comments:'',trainer_rating:'0',improve_comments:'',content_rating:'0',happy_rating:'0'}});cov_2r3thabp36.s[7]++;res.send(datasend);}else{cov_2r3thabp36.b[0][1]++;var datasend2=(cov_2r3thabp36.s[8]++,{success:true,msg:'Get feedback success',feedback:{bestThing_comments:feedback.bestThing_comments,trainer_rating:feedback.trainer_rating,improve_comments:feedback.improve_comments,content_rating:feedback.content_rating,happy_rating:feedback.happy_rating}});cov_2r3thabp36.s[9]++;res.send(datasend2);}});});cov_2r3thabp36.s[10]++;router.post('/sendFeedback',function(req,res){cov_2r3thabp36.f[2]++;cov_2r3thabp36.s[11]++;// this function check if the user used comment for class
models.ClassRecord.update({bestThing_comments:req.body.bestThing_comments,trainer_rating:req.body.trainer_rating,improve_comments:req.body.improve_comments,content_rating:req.body.content_rating,happy_rating:req.body.happy_rating},{where:{traineeId:req.body.traineeId,classId:req.body.classId}}).then(function(){cov_2r3thabp36.f[3]++;cov_2r3thabp36.s[12]++;res.send({success:true,msg:'update Feedback success!'});});});cov_2r3thabp36.s[13]++;module.exports=router;