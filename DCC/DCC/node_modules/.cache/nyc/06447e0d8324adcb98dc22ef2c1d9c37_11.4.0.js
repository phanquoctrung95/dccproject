var cov_zhuc20ese=function(){var path='D:\\DCC\\DCC\\server\\routes\\notification\\notification.js',hash='95ce8a3ebfae2afc7cfd34b0c75c1885f4f2fd11',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'D:\\DCC\\DCC\\server\\routes\\notification\\notification.js',statementMap:{'0':{start:{line:1,column:13},end:{line:1,column:40}},'1':{start:{line:2,column:13},end:{line:2,column:36}},'2':{start:{line:4,column:0},end:{line:31,column:3}},'3':{start:{line:5,column:4},end:{line:30,column:7}},'4':{start:{line:7,column:8},end:{line:14,column:15}},'5':{start:{line:15,column:8},end:{line:22,column:15}},'6':{start:{line:24,column:8},end:{line:24,column:32}},'7':{start:{line:26,column:8},end:{line:29,column:11}},'8':{start:{line:32,column:0},end:{line:51,column:3}},'9':{start:{line:33,column:4},end:{line:50,column:7}},'10':{start:{line:35,column:8},end:{line:42,column:15}},'11':{start:{line:44,column:8},end:{line:44,column:32}},'12':{start:{line:46,column:8},end:{line:49,column:11}},'13':{start:{line:53,column:0},end:{line:61,column:3}},'14':{start:{line:54,column:4},end:{line:60,column:7}},'15':{start:{line:55,column:8},end:{line:59,column:11}},'16':{start:{line:63,column:0},end:{line:71,column:3}},'17':{start:{line:64,column:4},end:{line:70,column:7}},'18':{start:{line:65,column:8},end:{line:69,column:11}},'19':{start:{line:73,column:0},end:{line:90,column:3}},'20':{start:{line:74,column:4},end:{line:89,column:11}},'21':{start:{line:85,column:12},end:{line:88,column:15}},'22':{start:{line:92,column:0},end:{line:110,column:3}},'23':{start:{line:93,column:4},end:{line:109,column:7}},'24':{start:{line:94,column:8},end:{line:108,column:15}},'25':{start:{line:104,column:16},end:{line:107,column:19}},'26':{start:{line:111,column:0},end:{line:126,column:2}},'27':{start:{line:113,column:16},end:{line:113,column:184}},'28':{start:{line:114,column:4},end:{line:125,column:5}},'29':{start:{line:115,column:8},end:{line:118,column:11}},'30':{start:{line:121,column:8},end:{line:124,column:11}},'31':{start:{line:127,column:0},end:{line:127,column:24}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:4,column:33},end:{line:4,column:34}},loc:{start:{line:4,column:53},end:{line:31,column:1}},line:4},'1':{name:'(anonymous_1)',decl:{start:{line:5,column:85},end:{line:5,column:86}},loc:{start:{line:5,column:102},end:{line:30,column:5}},line:5},'2':{name:'(anonymous_2)',decl:{start:{line:32,column:46},end:{line:32,column:47}},loc:{start:{line:32,column:66},end:{line:51,column:1}},line:32},'3':{name:'(anonymous_3)',decl:{start:{line:33,column:94},end:{line:33,column:95}},loc:{start:{line:33,column:111},end:{line:50,column:5}},line:33},'4':{name:'(anonymous_4)',decl:{start:{line:53,column:43},end:{line:53,column:44}},loc:{start:{line:53,column:63},end:{line:61,column:1}},line:53},'5':{name:'(anonymous_5)',decl:{start:{line:54,column:69},end:{line:54,column:70}},loc:{start:{line:54,column:86},end:{line:60,column:5}},line:54},'6':{name:'(anonymous_6)',decl:{start:{line:63,column:56},end:{line:63,column:57}},loc:{start:{line:63,column:76},end:{line:71,column:1}},line:63},'7':{name:'(anonymous_7)',decl:{start:{line:64,column:82},end:{line:64,column:83}},loc:{start:{line:64,column:99},end:{line:70,column:5}},line:64},'8':{name:'(anonymous_8)',decl:{start:{line:73,column:41},end:{line:73,column:42}},loc:{start:{line:73,column:61},end:{line:90,column:1}},line:73},'9':{name:'(anonymous_9)',decl:{start:{line:84,column:16},end:{line:84,column:17}},loc:{start:{line:84,column:28},end:{line:89,column:9}},line:84},'10':{name:'(anonymous_10)',decl:{start:{line:92,column:54},end:{line:92,column:55}},loc:{start:{line:92,column:74},end:{line:110,column:1}},line:92},'11':{name:'(anonymous_11)',decl:{start:{line:93,column:65},end:{line:93,column:66}},loc:{start:{line:93,column:82},end:{line:109,column:5}},line:93},'12':{name:'(anonymous_12)',decl:{start:{line:103,column:20},end:{line:103,column:21}},loc:{start:{line:103,column:32},end:{line:108,column:13}},line:103},'13':{name:'(anonymous_13)',decl:{start:{line:111,column:32},end:{line:111,column:33}},loc:{start:{line:111,column:52},end:{line:126,column:1}},line:111}},branchMap:{'0':{loc:{start:{line:114,column:4},end:{line:125,column:5}},type:'if',locations:[{start:{line:114,column:4},end:{line:125,column:5}},{start:{line:114,column:4},end:{line:125,column:5}}],line:114}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0},b:{'0':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var router=(cov_zhuc20ese.s[0]++,require('express').Router());var models=(cov_zhuc20ese.s[1]++,require('../../models'));cov_zhuc20ese.s[2]++;router.post('/getNotifications',function(req,res){cov_zhuc20ese.f[0]++;cov_zhuc20ese.s[3]++;models.Notifications.getAllNotificationByUserId(req.body.userId,req.body.index,notifications=>{cov_zhuc20ese.f[1]++;cov_zhuc20ese.s[4]++;//
models.Notifications.update({status:2},{where:{userId:req.body.userId,status:1}});cov_zhuc20ese.s[5]++;models.Notifications.update({status:4},{where:{userId:req.body.userId,status:3}});//
cov_zhuc20ese.s[6]++;notifications.reverse();//
cov_zhuc20ese.s[7]++;res.send({data:notifications,msg:'got '+notifications.length+' notifications'});});});cov_zhuc20ese.s[8]++;router.post('/getNotificationsRequestCourse',function(req,res){cov_zhuc20ese.f[2]++;cov_zhuc20ese.s[9]++;models.Notifications.getAllNewNotificationsRequestCourse(req.body.userId,req.body.index,notifications=>{cov_zhuc20ese.f[3]++;cov_zhuc20ese.s[10]++;//
models.Notifications.update({status:4},{where:{userId:req.body.userId,status:3}});//
cov_zhuc20ese.s[11]++;notifications.reverse();//
cov_zhuc20ese.s[12]++;res.send({data:notifications,msg:'got '+notifications.length+' request course notifications'});});});cov_zhuc20ese.s[13]++;router.post('/getNumberofNewNotification',function(req,res){cov_zhuc20ese.f[4]++;cov_zhuc20ese.s[14]++;models.Notifications.getNumberofNewNotification(req.body.userId,notifications=>{cov_zhuc20ese.f[5]++;cov_zhuc20ese.s[15]++;res.send({data:notifications.count,success:true,msg:'got '+notifications.count+' new notifications'});});});cov_zhuc20ese.s[16]++;router.post('/getNumberofNewNotificationRequestCourse',function(req,res){cov_zhuc20ese.f[6]++;cov_zhuc20ese.s[17]++;models.Notifications.getNumberofNewNotificationRequestCourse(req.body.userId,notifications=>{cov_zhuc20ese.f[7]++;cov_zhuc20ese.s[18]++;res.send({data:notifications.count,success:true,msg:'got '+notifications.count+' new request Course notifications '});});});cov_zhuc20ese.s[19]++;router.post('/updateNotificationStatus',function(req,res){cov_zhuc20ese.f[8]++;cov_zhuc20ese.s[20]++;models.Notifications.update({status:0},{where:{userId:req.body.userId,status:{$ne:0},id:req.body.id}}).then(function(){cov_zhuc20ese.f[9]++;cov_zhuc20ese.s[21]++;res.send({success:true,msg:"Status updated"});});});cov_zhuc20ese.s[22]++;router.post('/getAllNewNotificationsAndUpdateStatus',function(req,res){cov_zhuc20ese.f[10]++;cov_zhuc20ese.s[23]++;models.Notifications.getAllNewNotifications(req.body.userId,notifications=>{cov_zhuc20ese.f[11]++;cov_zhuc20ese.s[24]++;models.Notifications.update({status:0},{where:{userId:req.body.userId,status:{$ne:0}}}).then(function(){cov_zhuc20ese.f[12]++;cov_zhuc20ese.s[25]++;res.send({data:notifications,msg:"All status updated"});});});});cov_zhuc20ese.s[26]++;router.post('/addNotification',function(req,res){cov_zhuc20ese.f[13]++;let check=(cov_zhuc20ese.s[27]++,models.Notifications.addNotification(req.body.email,req.body.userId,req.body.title,req.body.content,req.body.time,req.body.reference,req.body.status,req.body.id));cov_zhuc20ese.s[28]++;if(check===0){cov_zhuc20ese.b[0][0]++;cov_zhuc20ese.s[29]++;res.send({result:0,msg:"Dont delete and insert new notification"});}else{cov_zhuc20ese.b[0][1]++;cov_zhuc20ese.s[30]++;res.send({result:1,msg:"delete and insert new notification"});}});cov_zhuc20ese.s[31]++;module.exports=router;