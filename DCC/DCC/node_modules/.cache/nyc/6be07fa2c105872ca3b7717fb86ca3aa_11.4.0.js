var cov_zdnbyj8ih=function(){var path='D:\\DCC\\DCC\\server\\notification\\email\\index.js',hash='f7866fb137e3a1dfd7a3a0c949b384f40b32d23f',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'D:\\DCC\\DCC\\server\\notification\\email\\index.js',statementMap:{'0':{start:{line:1,column:7},end:{line:1,column:20}},'1':{start:{line:3,column:0},end:{line:6,column:54}},'2':{start:{line:4,column:4},end:{line:4,column:47}},'3':{start:{line:6,column:4},end:{line:6,column:54}},'4':{start:{line:7,column:19},end:{line:7,column:33}},'5':{start:{line:8,column:17},end:{line:8,column:30}},'6':{start:{line:9,column:17},end:{line:9,column:30}},'7':{start:{line:10,column:19},end:{line:10,column:40}},'8':{start:{line:11,column:15},end:{line:11,column:32}},'9':{start:{line:12,column:13},end:{line:12,column:36}},'10':{start:{line:13,column:17},end:{line:13,column:30}},'11':{start:{line:16,column:4},end:{line:24,column:11}},'12':{start:{line:27,column:4},end:{line:37,column:7}},'13':{start:{line:39,column:18},end:{line:39,column:71}},'14':{start:{line:42,column:4},end:{line:42,column:26}},'15':{start:{line:43,column:21},end:{line:48,column:5}},'16':{start:{line:50,column:16},end:{line:50,column:31}},'17':{start:{line:51,column:18},end:{line:51,column:88}},'18':{start:{line:52,column:14},end:{line:52,column:28}},'19':{start:{line:53,column:21},end:{line:53,column:36}},'20':{start:{line:54,column:15},end:{line:54,column:33}},'21':{start:{line:56,column:4},end:{line:56,column:90}},'22':{start:{line:59,column:12},end:{line:326,column:1}},'23':{start:{line:62,column:8},end:{line:324,column:9}},'24':{start:{line:70,column:12},end:{line:118,column:13}},'25':{start:{line:71,column:27},end:{line:71,column:66}},'26':{start:{line:72,column:16},end:{line:110,column:18}},'27':{start:{line:112,column:16},end:{line:114,column:19}},'28':{start:{line:113,column:20},end:{line:113,column:40}},'29':{start:{line:115,column:16},end:{line:117,column:19}},'30':{start:{line:116,column:20},end:{line:116,column:45}},'31':{start:{line:119,column:15},end:{line:324,column:9}},'32':{start:{line:120,column:12},end:{line:164,column:13}},'33':{start:{line:121,column:29},end:{line:121,column:68}},'34':{start:{line:122,column:16},end:{line:156,column:18}},'35':{start:{line:158,column:16},end:{line:160,column:19}},'36':{start:{line:159,column:20},end:{line:159,column:40}},'37':{start:{line:161,column:16},end:{line:163,column:19}},'38':{start:{line:162,column:20},end:{line:162,column:45}},'39':{start:{line:166,column:15},end:{line:324,column:9}},'40':{start:{line:167,column:12},end:{line:175,column:14}},'41':{start:{line:176,column:12},end:{line:178,column:15}},'42':{start:{line:177,column:16},end:{line:177,column:41}},'43':{start:{line:179,column:15},end:{line:324,column:9}},'44':{start:{line:180,column:12},end:{line:193,column:14}},'45':{start:{line:194,column:12},end:{line:196,column:15}},'46':{start:{line:195,column:16},end:{line:195,column:41}},'47':{start:{line:198,column:15},end:{line:324,column:9}},'48':{start:{line:199,column:12},end:{line:247,column:13}},'49':{start:{line:200,column:29},end:{line:200,column:68}},'50':{start:{line:201,column:16},end:{line:239,column:18}},'51':{start:{line:241,column:16},end:{line:243,column:19}},'52':{start:{line:242,column:20},end:{line:242,column:40}},'53':{start:{line:244,column:16},end:{line:246,column:19}},'54':{start:{line:245,column:20},end:{line:245,column:45}},'55':{start:{line:250,column:12},end:{line:323,column:13}},'56':{start:{line:251,column:16},end:{line:300,column:17}},'57':{start:{line:252,column:33},end:{line:252,column:72}},'58':{start:{line:253,column:20},end:{line:292,column:22}},'59':{start:{line:294,column:20},end:{line:296,column:23}},'60':{start:{line:295,column:24},end:{line:295,column:44}},'61':{start:{line:297,column:20},end:{line:299,column:23}},'62':{start:{line:298,column:24},end:{line:298,column:49}},'63':{start:{line:302,column:17},end:{line:323,column:13}},'64':{start:{line:303,column:20},end:{line:308,column:21}},'65':{start:{line:309,column:20},end:{line:311,column:23}},'66':{start:{line:310,column:24},end:{line:310,column:49}},'67':{start:{line:314,column:36},end:{line:319,column:17}},'68':{start:{line:320,column:16},end:{line:322,column:19}},'69':{start:{line:321,column:20},end:{line:321,column:45}},'70':{start:{line:327,column:0},end:{line:327,column:23}}},fnMap:{'0':{name:'createSmtp',decl:{start:{line:15,column:9},end:{line:15,column:19}},loc:{start:{line:15,column:22},end:{line:25,column:1}},line:15},'1':{name:'createOAuth2',decl:{start:{line:26,column:9},end:{line:26,column:21}},loc:{start:{line:26,column:24},end:{line:38,column:1}},line:26},'2':{name:'formatDate',decl:{start:{line:41,column:9},end:{line:41,column:19}},loc:{start:{line:41,column:26},end:{line:57,column:1}},line:41},'3':{name:'(anonymous_3)',decl:{start:{line:60,column:10},end:{line:60,column:11}},loc:{start:{line:60,column:64},end:{line:325,column:5}},line:60},'4':{name:'(anonymous_4)',decl:{start:{line:112,column:70},end:{line:112,column:71}},loc:{start:{line:112,column:82},end:{line:114,column:17}},line:112},'5':{name:'(anonymous_5)',decl:{start:{line:115,column:50},end:{line:115,column:51}},loc:{start:{line:115,column:67},end:{line:117,column:17}},line:115},'6':{name:'(anonymous_6)',decl:{start:{line:158,column:72},end:{line:158,column:73}},loc:{start:{line:158,column:84},end:{line:160,column:17}},line:158},'7':{name:'(anonymous_7)',decl:{start:{line:161,column:50},end:{line:161,column:51}},loc:{start:{line:161,column:67},end:{line:163,column:17}},line:161},'8':{name:'(anonymous_8)',decl:{start:{line:176,column:46},end:{line:176,column:47}},loc:{start:{line:176,column:63},end:{line:178,column:13}},line:176},'9':{name:'(anonymous_9)',decl:{start:{line:194,column:46},end:{line:194,column:47}},loc:{start:{line:194,column:63},end:{line:196,column:13}},line:194},'10':{name:'(anonymous_10)',decl:{start:{line:241,column:70},end:{line:241,column:71}},loc:{start:{line:241,column:82},end:{line:243,column:17}},line:241},'11':{name:'(anonymous_11)',decl:{start:{line:244,column:50},end:{line:244,column:51}},loc:{start:{line:244,column:67},end:{line:246,column:17}},line:244},'12':{name:'(anonymous_12)',decl:{start:{line:294,column:74},end:{line:294,column:75}},loc:{start:{line:294,column:86},end:{line:296,column:21}},line:294},'13':{name:'(anonymous_13)',decl:{start:{line:297,column:54},end:{line:297,column:55}},loc:{start:{line:297,column:71},end:{line:299,column:21}},line:297},'14':{name:'(anonymous_14)',decl:{start:{line:309,column:54},end:{line:309,column:55}},loc:{start:{line:309,column:71},end:{line:311,column:21}},line:309},'15':{name:'(anonymous_15)',decl:{start:{line:320,column:50},end:{line:320,column:51}},loc:{start:{line:320,column:67},end:{line:322,column:17}},line:320}},branchMap:{'0':{loc:{start:{line:3,column:0},end:{line:6,column:54}},type:'if',locations:[{start:{line:3,column:0},end:{line:6,column:54}},{start:{line:3,column:0},end:{line:6,column:54}}],line:3},'1':{loc:{start:{line:39,column:18},end:{line:39,column:71}},type:'cond-expr',locations:[{start:{line:39,column:42},end:{line:39,column:54}},{start:{line:39,column:57},end:{line:39,column:71}}],line:39},'2':{loc:{start:{line:51,column:18},end:{line:51,column:88}},type:'cond-expr',locations:[{start:{line:51,column:45},end:{line:51,column:68}},{start:{line:51,column:71},end:{line:51,column:88}}],line:51},'3':{loc:{start:{line:60,column:20},end:{line:60,column:34}},type:'default-arg',locations:[{start:{line:60,column:32},end:{line:60,column:34}}],line:60},'4':{loc:{start:{line:60,column:54},end:{line:60,column:62}},type:'default-arg',locations:[{start:{line:60,column:61},end:{line:60,column:62}}],line:60},'5':{loc:{start:{line:62,column:8},end:{line:324,column:9}},type:'if',locations:[{start:{line:62,column:8},end:{line:324,column:9}},{start:{line:62,column:8},end:{line:324,column:9}}],line:62},'6':{loc:{start:{line:119,column:15},end:{line:324,column:9}},type:'if',locations:[{start:{line:119,column:15},end:{line:324,column:9}},{start:{line:119,column:15},end:{line:324,column:9}}],line:119},'7':{loc:{start:{line:166,column:15},end:{line:324,column:9}},type:'if',locations:[{start:{line:166,column:15},end:{line:324,column:9}},{start:{line:166,column:15},end:{line:324,column:9}}],line:166},'8':{loc:{start:{line:179,column:15},end:{line:324,column:9}},type:'if',locations:[{start:{line:179,column:15},end:{line:324,column:9}},{start:{line:179,column:15},end:{line:324,column:9}}],line:179},'9':{loc:{start:{line:198,column:15},end:{line:324,column:9}},type:'if',locations:[{start:{line:198,column:15},end:{line:324,column:9}},{start:{line:198,column:15},end:{line:324,column:9}}],line:198},'10':{loc:{start:{line:216,column:69},end:{line:216,column:282}},type:'cond-expr',locations:[{start:{line:216,column:143},end:{line:216,column:175}},{start:{line:216,column:178},end:{line:216,column:282}}],line:216},'11':{loc:{start:{line:220,column:69},end:{line:220,column:272}},type:'cond-expr',locations:[{start:{line:220,column:139},end:{line:220,column:169}},{start:{line:220,column:172},end:{line:220,column:272}}],line:220},'12':{loc:{start:{line:224,column:69},end:{line:224,column:217}},type:'cond-expr',locations:[{start:{line:224,column:117},end:{line:224,column:136}},{start:{line:224,column:139},end:{line:224,column:217}}],line:224},'13':{loc:{start:{line:228,column:69},end:{line:228,column:212}},type:'cond-expr',locations:[{start:{line:228,column:115},end:{line:228,column:133}},{start:{line:228,column:136},end:{line:228,column:212}}],line:228},'14':{loc:{start:{line:250,column:12},end:{line:323,column:13}},type:'if',locations:[{start:{line:250,column:12},end:{line:323,column:13}},{start:{line:250,column:12},end:{line:323,column:13}}],line:250},'15':{loc:{start:{line:302,column:17},end:{line:323,column:13}},type:'if',locations:[{start:{line:302,column:17},end:{line:323,column:13}},{start:{line:302,column:17},end:{line:323,column:13}}],line:302}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0],'4':[0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var fs=(cov_zdnbyj8ih.s[0]++,require('fs'));var settings;cov_zdnbyj8ih.s[1]++;if(fs.existsSync('settings.js')==true){cov_zdnbyj8ih.b[0][0]++;cov_zdnbyj8ih.s[2]++;settings=require('../../../settings.js');}else{cov_zdnbyj8ih.b[0][1]++;cov_zdnbyj8ih.s[3]++;settings=require('../../../settingsDefault.js');}var email_config=(cov_zdnbyj8ih.s[4]++,settings.email);var email_auth=(cov_zdnbyj8ih.s[5]++,settings.auth);var email_smtp=(cov_zdnbyj8ih.s[6]++,settings.smtp);const nodemailer=(cov_zdnbyj8ih.s[7]++,require('nodemailer'));const crypto=(cov_zdnbyj8ih.s[8]++,require('crypto'));var models=(cov_zdnbyj8ih.s[9]++,require('../../models'));var email_host=(cov_zdnbyj8ih.s[10]++,settings.host);function createSmtp(){cov_zdnbyj8ih.f[0]++;cov_zdnbyj8ih.s[11]++;return nodemailer.createTransport({host:email_smtp.host,port:email_smtp.port,secure:email_smtp.secure,// true for 465, false for other ports
auth:{user:email_smtp.user,// generated ethereal user
pass:email_smtp.pass// generated ethereal password
}});};function createOAuth2(){cov_zdnbyj8ih.f[1]++;cov_zdnbyj8ih.s[12]++;return nodemailer.createTransport({service:'gmail',auth:{type:'OAuth2',user:email_config.USER_EMAIL,clientId:email_config.USER_CLIENT_ID,clientSecret:email_config.USER_CLIENT_SECRET,refreshToken:email_config.USER_REFRESH_TOKEN,accessToken:email_config.USER_ACCESS_TOKEN}});};var transporter=(cov_zdnbyj8ih.s[13]++,email_auth==='smtp'?(cov_zdnbyj8ih.b[1][0]++,createSmtp()):(cov_zdnbyj8ih.b[1][1]++,createOAuth2()));function formatDate(date){cov_zdnbyj8ih.f[2]++;cov_zdnbyj8ih.s[14]++;date=new Date(date);var monthNames=(cov_zdnbyj8ih.s[15]++,["January","February","March","April","May","June","July","August","September","October","November","December"]);var hours=(cov_zdnbyj8ih.s[16]++,date.getHours());var minutes=(cov_zdnbyj8ih.s[17]++,date.getMinutes()<10?(cov_zdnbyj8ih.b[2][0]++,'0'+date.getMinutes()):(cov_zdnbyj8ih.b[2][1]++,date.getMinutes()));var day=(cov_zdnbyj8ih.s[18]++,date.getDate());var monthIndex=(cov_zdnbyj8ih.s[19]++,date.getMonth());var year=(cov_zdnbyj8ih.s[20]++,date.getFullYear());cov_zdnbyj8ih.s[21]++;return day+' '+monthNames[monthIndex]+' '+year+', '+hours+':'+minutes;}var email=(cov_zdnbyj8ih.s[22]++,{send:function(receivers=(cov_zdnbyj8ih.b[3][0]++,[]),subject,content,flag=(cov_zdnbyj8ih.b[4][0]++,0)){cov_zdnbyj8ih.f[3]++;var mailOptions;cov_zdnbyj8ih.s[23]++;if(flag===1){cov_zdnbyj8ih.b[5][0]++;cov_zdnbyj8ih.s[24]++;//0: default mail
//1: notify class information
//2: mail for recovery password
//3: mail for register account
//4: notify edit class information clearly
//5: remove trainee
//6: notify canceled class
// xu ly
for(var i=0;i<receivers.length;i++){var hash=(cov_zdnbyj8ih.s[25]++,crypto.randomBytes(100).toString('hex'));cov_zdnbyj8ih.s[26]++;mailOptions={from:'"DEK Notification System" <dektech.dcc@gmail.com>',to:receivers[i].toString(),subject:`[Training] ${subject}`,html:`
                    <div style="width: 600px; border: 1px solid #e5e5e5; margin: 10px; clear:both; border-radius: .25rem">
                        <div style="width: 106px; height: 247px; border-right: 1px solid #e5e5e5; border-bottom: 1px solid #e5e5e5; float: left; padding: 10px; box-sizing: border-box; background-color: #f6f6f6;">
                            <img src="http://sv1.upsieutoc.com/2017/11/01/DCC-icon.png" width="85" height="43" style="margin: 85px auto 0 auto; display: block">
                        </div>
                        <div style="width: 494px; height: 247px; display: inline-block; border-bottom: 1px solid #e5e5e5; padding: 15px; box-sizing: border-box;">
                            <p style="font-size: 25px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;margin:0" title="[Training] ${subject}">[Training] ${subject}</p>

                            <table style="width: 100%; margin: 15px 0 5px 0; height: 135px; overflow: hidden; text-overflow: ellipsis; font-size: 14px;">
                                <tr>
                                    <td style="width: 100px; vertical-align:top; color: #999999">Start Time</td>
                                    <td style="vertical-align:top">${formatDate(content.startTime)}</td>
                                </tr>
                                <tr>
                                    <td style="width: 100px; vertical-align:top; color: #999999">End Time</td>
                                    <td style="vertical-align:top">${formatDate(content.endTime)}</td>
                                </tr>
                                <tr>
                                    <td style="width: 100px; vertical-align:top; color: #999999">Location</td>
                                    <td style="vertical-align:top">${content.location}</td>
                                </tr>
                                <tr>
                                    <td style="width: 100px; vertical-align:top; color: #999999">Trainer</td>
                                    <td style="vertical-align:top">${content.trainer}</td>
                                </tr>
                            </table>

                        </div>
                        <div style="width: 100%; padding: 15px; box-sizing: border-box;">
                            <p style="font-size: 25px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; margin: 5px auto;" title="Description">Description</p>
                            <div style="font-size: 14px; overflow: auto">${content.description}</div>
                        </div>
                    </div>
                    `};//save status email reponse
cov_zdnbyj8ih.s[27]++;models.EmailResponseStatus.add(receivers[i],hash,0,result=>{cov_zdnbyj8ih.f[4]++;cov_zdnbyj8ih.s[28]++;console.log(result);});cov_zdnbyj8ih.s[29]++;transporter.sendMail(mailOptions,(error,info)=>{cov_zdnbyj8ih.f[5]++;cov_zdnbyj8ih.s[30]++;console.log(error,info);});}}else{cov_zdnbyj8ih.b[5][1]++;cov_zdnbyj8ih.s[31]++;if(flag===6){cov_zdnbyj8ih.b[6][0]++;cov_zdnbyj8ih.s[32]++;for(var j=0;j<receivers.length;j++){var hash_s=(cov_zdnbyj8ih.s[33]++,crypto.randomBytes(100).toString('hex'));cov_zdnbyj8ih.s[34]++;mailOptions={from:'"DEK Notification System" <dektech.dcc@gmail.com>',to:receivers[i].toString(),subject:`[Training] ${subject}`,html:`
                    <div style="width: 600px; border: 1px solid #e5e5e5; margin: 10px; clear:both; border-radius: .25rem">
                        <div style="width: 106px; height: 247px; border-right: 1px solid #e5e5e5; border-bottom: 1px solid #e5e5e5; float: left; padding: 10px; box-sizing: border-box; background-color: #f6f6f6;">
                            <img src="http://sv1.upsieutoc.com/2017/11/01/DCC-icon.png" width="85" height="43" style="margin: 85px auto 0 auto; display: block">
                        </div>
                        <div style="width: 494px; height: 247px; display: inline-block; border-bottom: 1px solid #e5e5e5; padding: 15px; box-sizing: border-box;">
                            <p style="font-size: 25px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;margin:0" title="[Training] ${subject}">[Training] ${subject}</p>

                            <table style="width: 100%; margin: 15px 0 5px 0; height: 135px; overflow: hidden; text-overflow: ellipsis; font-size: 14px;">
                                <tr>
                                    <td style="width: 100px; vertical-align:top; color: #999999">Start Time</td>
                                    <td style="vertical-align:top">${formatDate(content.startTime)}</td>
                                </tr>
                                <tr>
                                    <td style="width: 100px; vertical-align:top; color: #999999">End Time</td>
                                    <td style="vertical-align:top">${formatDate(content.endTime)}</td>
                                </tr>
                                <tr>
                                    <td style="width: 100px; vertical-align:top; color: #999999">Location</td>
                                    <td style="vertical-align:top">${content.location}</td>
                                </tr>
                            </table>

                        </div>
                        <div style="width: 100%; padding: 15px; box-sizing: border-box;">
                            <p style="font-size: 20px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; margin: 5px auto;" title="Description">The class has been canceled.</p><br>
                            <p style="font-size: 20px;">Please ask your admin for more information.</p>
                        </div>
                    </div>
                    `};//save status email reponse
cov_zdnbyj8ih.s[35]++;models.EmailResponseStatus.add(receivers[j],hash_s,0,result=>{cov_zdnbyj8ih.f[6]++;cov_zdnbyj8ih.s[36]++;console.log(result);});cov_zdnbyj8ih.s[37]++;transporter.sendMail(mailOptions,(error,info)=>{cov_zdnbyj8ih.f[7]++;cov_zdnbyj8ih.s[38]++;console.log(error,info);});}}else{cov_zdnbyj8ih.b[6][1]++;cov_zdnbyj8ih.s[39]++;if(flag===2){cov_zdnbyj8ih.b[7][0]++;cov_zdnbyj8ih.s[40]++;mailOptions={from:'"DEK Notification System" <dektech.dcc@gmail.com>',to:receivers.toString(),subject:subject,html:`
                <p>Your new Password is following:</p>
                <p>- Password: <b>${content.password}</b></p>
            `};cov_zdnbyj8ih.s[41]++;transporter.sendMail(mailOptions,(error,info)=>{cov_zdnbyj8ih.f[8]++;cov_zdnbyj8ih.s[42]++;console.log(error,info);});}else{cov_zdnbyj8ih.b[7][1]++;cov_zdnbyj8ih.s[43]++;if(flag===3){cov_zdnbyj8ih.b[8][0]++;cov_zdnbyj8ih.s[44]++;mailOptions={from:'"DEK Notification System" <dektech.dcc@gmail.com>',to:receivers.toString(),subject:subject,html:`
                    <p>Hello ${content.username},</p>
                    <p>Welcome to DEK Competence Center.</p>
                    <p>Should you sign in DEK DCC as the first time, please change your password to access other features.</p>
                    <p>Your email and auto-generated password is following:</p>
                    <p>- Email: ${content.email}</p>
                    <p>- Password: <b>${content.password}</b></p>
                    <p>- IP: http://${email_host}</p>
                    `};cov_zdnbyj8ih.s[45]++;transporter.sendMail(mailOptions,(error,info)=>{cov_zdnbyj8ih.f[9]++;cov_zdnbyj8ih.s[46]++;console.log(error,info);});}else{cov_zdnbyj8ih.b[8][1]++;cov_zdnbyj8ih.s[47]++;if(flag===4){cov_zdnbyj8ih.b[9][0]++;cov_zdnbyj8ih.s[48]++;for(let i=0;i<receivers.length;i++){const hash=(cov_zdnbyj8ih.s[49]++,crypto.randomBytes(100).toString('hex'));cov_zdnbyj8ih.s[50]++;mailOptions={from:'"DEK Notification System" <dektech.dcc@gmail.com>',to:receivers[i].toString(),subject:`[Update] ${subject}`,html:`
                    <div style="width: 600px; border: 1px solid #e5e5e5; margin: 10px; clear:both; border-radius: .25rem">
                        <div style="width: 106px; height: 247px; border-right: 1px solid #e5e5e5; border-bottom: 1px solid #e5e5e5; float: left; padding: 10px; box-sizing: border-box; background-color: #f6f6f6;">
                            <img src="http://sv1.upsieutoc.com/2017/11/01/DCC-icon.png" width="85" height="43" style="margin: 85px auto 0 auto; display: block">
                        </div>
                        <div style="width: 494px; height: 247px; display: inline-block; border-bottom: 1px solid #e5e5e5; padding: 15px; box-sizing: border-box;">
                            <p style="font-size: 25px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;margin:0" title="[Update] ${subject}">[Update] ${subject}</p>

                            <table style="width: 100%; margin: 15px 0 5px 0; height: 135px; overflow: hidden; text-overflow: ellipsis; font-size: 14px;">
                                <tr>
                                    <td style="width: 100px; vertical-align:top; color: #999999">Start Time</td>
                                    <td style="vertical-align:top">${Date.parse(content.oldStartTime)===Date.parse(content.newStartTime)?(cov_zdnbyj8ih.b[10][0]++,formatDate(content.oldStartTime)):(cov_zdnbyj8ih.b[10][1]++,"<strike>"+formatDate(content.oldStartTime)+"</strike>"+" --> "+formatDate(content.newStartTime))}</td>
                                </tr>
                                <tr>
                                    <td style="width: 100px; vertical-align:top; color: #999999">End Time</td>
                                    <td style="vertical-align:top">${Date.parse(content.oldEndTime)===Date.parse(content.newEndTime)?(cov_zdnbyj8ih.b[11][0]++,formatDate(content.oldEndTime)):(cov_zdnbyj8ih.b[11][1]++,"<strike>"+formatDate(content.oldEndTime)+"</strike>"+" --> "+formatDate(content.newEndTime))}</td>
                                </tr>
                                <tr>
                                    <td style="width: 100px; vertical-align:top; color: #999999">Location</td>
                                    <td style="vertical-align:top">${content.oldLocation===content.newLocation?(cov_zdnbyj8ih.b[12][0]++,content.oldLocation):(cov_zdnbyj8ih.b[12][1]++,"<strike>"+content.oldLocation+"</strike>"+" --> "+content.newLocation)}</td>
                                </tr>
                                <tr>
                                    <td style="width: 100px; vertical-align:top; color: #999999">Trainer</td>
                                    <td style="vertical-align:top">${content.oldTrainer===content.newTrainer?(cov_zdnbyj8ih.b[13][0]++,content.oldTrainer):(cov_zdnbyj8ih.b[13][1]++,"<strike>"+content.oldTrainer+"</strike>"+" --> "+content.newTrainer)}</td>
                                </tr>
                            </table>

                        </div>
                        <div style="width: 100%; padding: 15px; box-sizing: border-box;">
                            <p style="font-size: 25px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; margin: 5px auto;" title="Description">Description</p>
                            <div style="font-size: 14px; overflow: auto">${content.description}</div>
                        </div>
                    </div>
                    `};//save status email reponse
cov_zdnbyj8ih.s[51]++;models.EmailResponseStatus.add(receivers[i],hash,0,result=>{cov_zdnbyj8ih.f[10]++;cov_zdnbyj8ih.s[52]++;console.log(result);});cov_zdnbyj8ih.s[53]++;transporter.sendMail(mailOptions,(error,info)=>{cov_zdnbyj8ih.f[11]++;cov_zdnbyj8ih.s[54]++;console.log(error,info);});}}else{cov_zdnbyj8ih.b[9][1]++;cov_zdnbyj8ih.s[55]++;if(flag===5){cov_zdnbyj8ih.b[14][0]++;cov_zdnbyj8ih.s[56]++;for(let i=0;i<receivers.length;i++){const hash=(cov_zdnbyj8ih.s[57]++,crypto.randomBytes(100).toString('hex'));cov_zdnbyj8ih.s[58]++;mailOptions={from:'"DEK Notification System" <dektech.dcc@gmail.com>',to:receivers[i].toString(),subject:`${subject}`,html:`
                        <h3>You have been remove from class ${subject}. Please contact your admin to get more information.</h3>
                        <div style="width: 600px; border: 1px solid #e5e5e5; margin: 10px; clear:both; border-radius: .25rem">
                            <div style="width: 106px; height: 247px; border-right: 1px solid #e5e5e5; border-bottom: 1px solid #e5e5e5; float: left; padding: 10px; box-sizing: border-box; background-color: #f6f6f6;">
                                <img src="http://sv1.upsieutoc.com/2017/11/01/DCC-icon.png" width="85" height="43" style="margin: 85px auto 0 auto; display: block">
                            </div>
                            <div style="width: 494px; height: 247px; display: inline-block; border-bottom: 1px solid #e5e5e5; padding: 15px; box-sizing: border-box;">
                                <p style="font-size: 25px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;margin:0" title="${subject}">${subject}</p>

                                <table style="width: 100%; margin: 15px 0 5px 0; height: 135px; overflow: hidden; text-overflow: ellipsis; font-size: 14px;">
                                    <tr>
                                        <td style="width: 100px; vertical-align:top; color: #999999">Start Time</td>
                                        <td style="vertical-align:top">${formatDate(content.startTime)}</td>
                                    </tr>
                                    <tr>
                                        <td style="width: 100px; vertical-align:top; color: #999999">End Time</td>
                                        <td style="vertical-align:top">${formatDate(content.endTime)}</td>
                                    </tr>
                                    <tr>
                                        <td style="width: 100px; vertical-align:top; color: #999999">Location</td>
                                        <td style="vertical-align:top">${content.location}</td>
                                    </tr>
                                    <tr>
                                        <td style="width: 100px; vertical-align:top; color: #999999">Trainer</td>
                                        <td style="vertical-align:top">${content.trainer}</td>
                                    </tr>
                                </table>

                            </div>
                            <div style="width: 100%; padding: 15px; box-sizing: border-box;">
                                <p style="font-size: 25px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; margin: 5px auto;" title="Description">Description</p>
                                <div style="font-size: 14px; overflow: auto">${content.description}</div>
                            </div>
                        </div>
                        `};//save status email reponse
cov_zdnbyj8ih.s[59]++;models.EmailResponseStatus.add(receivers[i],hash,0,result=>{cov_zdnbyj8ih.f[12]++;cov_zdnbyj8ih.s[60]++;console.log(result);});cov_zdnbyj8ih.s[61]++;transporter.sendMail(mailOptions,(error,info)=>{cov_zdnbyj8ih.f[13]++;cov_zdnbyj8ih.s[62]++;console.log(error,info);});}}else{cov_zdnbyj8ih.b[14][1]++;cov_zdnbyj8ih.s[63]++;if(flag===7){cov_zdnbyj8ih.b[15][0]++;cov_zdnbyj8ih.s[64]++;mailOptions={from:'"DEK Notification System" <dektech.dcc@gmail.com>',to:receivers.toString(),subject:subject,html:content};cov_zdnbyj8ih.s[65]++;transporter.sendMail(mailOptions,(error,info)=>{cov_zdnbyj8ih.f[14]++;cov_zdnbyj8ih.s[66]++;console.log(error,info);});}else{cov_zdnbyj8ih.b[15][1]++;const mailOptions=(cov_zdnbyj8ih.s[67]++,{from:'"DEK Notification System" <dektech.dcc@gmail.com>',to:receivers.toString(),subject:subject,text:content});cov_zdnbyj8ih.s[68]++;transporter.sendMail(mailOptions,(error,info)=>{cov_zdnbyj8ih.f[15]++;cov_zdnbyj8ih.s[69]++;console.log(error,info);});}}}}}}}}});cov_zdnbyj8ih.s[70]++;module.exports=email;