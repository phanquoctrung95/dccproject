var cov_1jiweq62qc=function(){var path='D:\\DCC\\dcc\\server\\models\\emailFeedback.js',hash='80fb76d8bccb12ab542bab0ccab1dd1c7d094b95',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'D:\\DCC\\dcc\\server\\models\\emailFeedback.js',statementMap:{'0':{start:{line:1,column:26},end:{line:1,column:64}},'1':{start:{line:3,column:0},end:{line:34,column:2}},'2':{start:{line:4,column:24},end:{line:32,column:6}},'3':{start:{line:10,column:16},end:{line:16,column:32}},'4':{start:{line:20,column:16},end:{line:27,column:32}},'5':{start:{line:33,column:4},end:{line:33,column:25}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:3,column:17},end:{line:3,column:18}},loc:{start:{line:3,column:38},end:{line:34,column:1}},line:3},'1':{name:'(anonymous_1)',decl:{start:{line:9,column:45},end:{line:9,column:46}},loc:{start:{line:9,column:59},end:{line:17,column:13}},line:9},'2':{name:'(anonymous_2)',decl:{start:{line:19,column:64},end:{line:19,column:65}},loc:{start:{line:19,column:78},end:{line:28,column:13}},line:19}},branchMap:{},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0},f:{'0':0,'1':0,'2':0},b:{},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var _emailFeedbackModel=(cov_1jiweq62qc.s[0]++,require("./DataObjects/emailFeedback"));cov_1jiweq62qc.s[1]++;module.exports=function(sequelize){cov_1jiweq62qc.f[0]++;var emailFeedback=(cov_1jiweq62qc.s[2]++,sequelize.define('emailFeedback',_emailFeedbackModel,{charset:'utf8',collate:'utf8_unicode_ci',classMethods:{// Info about user is email_user, user id, class_id don't feedback which is value's return
getAllInfoAboutUserDontFeedback:function(cb){cov_1jiweq62qc.f[1]++;cov_1jiweq62qc.s[3]++;sequelize.query('SELECT DISTINCT user.email, user.id as traineeId, class_record.classId FROM class_record, user '+' WHERE user.id = class_record.traineeId and class_record.status = "Learned" and user.email '+' not in (SELECT DISTINCT user.email '+' FROM class_record, user WHERE LENGTH(class_record.improve_comments) >= 0 and user.id = class_record.traineeId) AND (user.id,class_record.classId ) '+' NOT IN ( SELECT email_feedback.userID, email_feedback.class_id_not_feedback FROM email_feedback) ',{type:sequelize.QueryTypes.SELECT}).then(cb);},// Get user is sent email feedback but don't feedback more than 3 days
getAllInfoAboutUserIsSentEmailFeedbacMoreThreeDays:function(cb){cov_1jiweq62qc.f[2]++;cov_1jiweq62qc.s[4]++;sequelize.query('SELECT DISTINCT email_feedback.email_user, email_feedback.userID, email_feedback.class_id_not_feedback '+' FROM email_feedback, class_record '+' WHERE DATEDIFF(NOW(),email_feedback.lastdate_sent_emailfeedback) >= 3 '+' AND email_feedback.userID not in (SELECT class_record.traineeId '+' FROM class_record '+' WHERE LENGTH(class_record.improve_comments) >= 0) ',{type:sequelize.QueryTypes.SELECT}).then(cb);}},tableName:'email_feedback',timestamps:false}));cov_1jiweq62qc.s[5]++;return emailFeedback;};